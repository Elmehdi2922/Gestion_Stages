<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ClassyAds &mdash; Colorlib Website Template</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:400,700,800" rel="stylesheet">
    <link rel="stylesheet" href="fonts/icomoon/style.css">

    <link rel="stylesheet" href="css2/bootstrap.min.css">
    <link rel="stylesheet" href="css2/magnific-popup.css">
    <link rel="stylesheet" href="css2/jquery-ui.css">
    <link rel="stylesheet" href="css2/owl.carousel.min.css">
    <link rel="stylesheet" href="css2/owl.theme.default.min.css">

    <link rel="stylesheet" href="css2/bootstrap-datepicker.css">

    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">

    <link rel="stylesheet" href="css2/aos.css">
    <link rel="stylesheet" href="css2/rangeslider.css">

    <link rel="stylesheet" href="css2/style.css">
  <style>
			.switch {
		  position: relative;
		  display: inline-block;
		  width: 60px;
		  height: 34px;
		}
		
		.switch input { 
		  opacity: 0;
		  width: 0;
		  height: 0;
		}
		
		.slider {
		  position: absolute;
		  cursor: pointer;
		  top: 0;
		  left: 0;
		  right: 0;
		  bottom: 0;
		  background-color: red;
		  -webkit-transition: .4s;
		  transition: .4s;
		}
		
		.slider:before {
		  position: absolute;
		  content: "";
		  height: 26px;
		  width: 26px;
		  left: 4px;
		  bottom: 4px;
		  background-color: white;
		  -webkit-transition: .4s;
		  transition: .4s;
		}
		
		input:checked + .slider {
		  background-color: #2196F3;
		}
		
		input:focus + .slider {
		  box-shadow: 0 0 1px #2196F3;
		}
		
		input:checked + .slider:before {
		  -webkit-transform: translateX(26px);
		  -ms-transform: translateX(26px);
		  transform: translateX(26px);
		}
				.slider.round {
		  border-radius: 34px;
		}
		
		.slider.round:before {
		  border-radius: 50%;
		}
	</style>    
	<script>
    function previewFileU(){
      var preview = document.getElementById('im1u').value; //selects the query named img
      var reader  = new FileReader();
      var im="";
      console.log("+"+preview[0]);
            
      for(var i=12;i<preview.length;i++)
      {im=im+preview[i];} 
      console.log("doc===>"+im);
      document.getElementById("imageZoneu").value="doc/"+im;
      document.getElementById("ssu").src="doc/"+im;      
    }
    
    function previewFileU2(){
      var preview = document.getElementById('im1u2').value; //selects the query named img
      var reader  = new FileReader();
      var im="";
      console.log("+"+preview[0]);     
      for(var i=12;i<preview.length;i++)
        {im=im+preview[i];} 
        console.log("image===>"+im);
        document.getElementById("imageZoneu2").value="doc/"+im; 	
          
    }
    
    function previewFileU4(){
      var preview = document.getElementById('im1u4').value; //selects the query named img
      var reader  = new FileReader();
      var im="";
      console.log("+"+preview[0]);
            
      for(var i=12;i<preview.length;i++)
      {im=im+preview[i];} 
      console.log("image===>"+im);
      document.getElementById("imageZoneu4").value="images/"+im; 
      document.getElementById("ssu4").src="images/"+im;
    }	
    function previewFileU5(){
      var preview = document.getElementById('cv').value; //selects the query named img
      var reader  = new FileReader();
      var im="";
      console.log("+"+preview[0]);
      for(var i=12;i<preview.length;i++)
      {im=im+preview[i];} 
      console.log("doc===>"+im);
      document.getElementById("cvZoneu4").value="doc/"+im;  
    }
	
	</script>
  </head>
  <body ng-app="mnadm"  ng-controller="AdminController">
  <div class="site-wrap">
    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    <header class="site-navbar container py-0 bg-white" role="banner">
      <!-- <div class="container"> -->
        <div class="row align-items-center">
          <div class="col-6 col-xl-2">
            <h1 class="mb-0 site-logo"><a href="index.html" class="text-black mb-0">EspaceStage<span style="color:#c43939;" class="text-danger">ABHOER</span>  </a></h1>
          </div>
          <div class="col-12 col-md-10 d-none d-xl-block">
            <nav class="site-navigation position-relative text-right" role="navigation">
              <!-- Nav Item - User Information -->
              <li class="nav-item dropdown no-arrow">
                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="mr-2 d-none d-lg-inline text-gray-600" style="color:#c43939;">{{nom}} {{prenom}}</span>
                  <img class="img-profile rounded-circle" src="{{image}}"  width="50" height="50">
                </a>
                <!-- Dropdown - User Information -->
                <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                  <a class="dropdown-item" href="#" data-toggle="modal" data-target="#myModal4" ng-click="ProfileUpdate()">
                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                    Profile
                  </a>                 
                  <div class="dropdown-divider"></div> 
                  <a class="dropdown-item" ng-click="logout()" href="#" data-toggle="modal" data-target="#logoutModal" ng-click="logout()">
                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                    Logout
                  </a>
                </div>
              </li>
            </nav>
          </div>
          <div class="d-inline-block d-xl-none ml-auto py-3 col-6 text-right" style="position: relative; top: 3px;">
            <a href="#" class="site-menu-toggle js-menu-toggle text-black"><span class="icon-menu h3"></span></a>
          </div>
        </div>
      <!-- </div> -->
    </header>
    <div class="site-blocks-cover overlay" style="background-image: url(images/picpicoffice.jpg);" data-aos="fade" data-stellar-background-ratio="0.5">
      <div class="container">
        <div class="row align-items-center justify-content-center text-center">
          <div class="col-md-12">
            <div class="row justify-content-center mb-4">
              <div class="col-md-8 text-center">
                <h1 class="" data-aos="fade-up">The Easiest Way to consult your offres and interships</h1>
                <p data-aos="fade-up" data-aos-delay="100">You can make any offer you want.</p>
              </div>
            </div>
            <div class="form-search-wrap" data-aos="fade-up" data-aos-delay="200">
              <form method="post">
                <div class="row align-items-center text-center">
                  <div class="col-lg-12 mb-4 mb-xl-0 col-xl-4 text-center">
                    <input type="text" ng-change="findbyindice()" class="form-control rounded" ng-model="indicateur" id="indicateur" placeholder="What are you looking for?">
                  </div>
                  <div class="col-lg-12 mb-4 mb-xl-0 col-xl-3 text-center">
                  </div>
                 <div class="col-lg-12 col-xl-2 ml-auto text-right">
                    <input ng-click="findbyindice()" type="button" style="background-color:#c43939;border-color:#c43939;" class="btn btn-primary btn-block rounded" value="New Request" data-toggle="modal" data-target="#myModal">
                  </div>
 			        		<div class="col-lg-12 col-xl-2 ml-auto text-right">
                    <input ng-click="findbyindice()" type="button" style="background-color:#c43939;border-color:#c43939;" class="btn btn-primary btn-block rounded" value="My Internship"  data-toggle="modal" data-target="#myModal2">
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="site-section" data-aos="fade">
      <div class="container">
        <div class="row justify-content-center mb-5">
          <div class="col-md-7 text-center border-primary-danger">
            <h2 class="font-weight-light text-danger">Offres</h2>
            <p class="color-black-opacity-5">Time for working hard</p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-4 mb-lg-4 col-lg-6"  ng-repeat="s in offres">
            <div class="listing-item">
              <div class="listing-image">
                <img src="{{s.image}}" alt="Image" class="img-fluid">
              </div>
              <div class="listing-item-content"> 
                <a  class="px-3 mb-3 category">{{s.date}}</a>                
                <h2 class="mb-1"><a href="">{{s.titre}}</a></h2>
                <span class="address">{{s.adresse}}</span>
                <span class="address">{{s.message}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="site-section bg-light">
    </div>
    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <div class="col-md-3">
                <h2 class="footer-heading mb-4">Follow Us</h2>
                <a href="HTTP://www.facebook.com/mehdi.dodge67" class="pl-0 pr-3"><span class="icon-facebook"></span></a>
              </div>
            </div>
          </div>
        </div>
        <div class="row pt-5 mt-5 text-center">
          <div class="col-md-12">
            <div class="border-top pt-5">
            <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >KHALKI Elmehdi</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </div>
<!-- The Modal -->
<div class="modal" id="myModal">  
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Request</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>   
        <!-- Modal body -->
        <div class="modal-body">
          <div class="card-body">                    
            <div class="card-body">
              <div class="form-group">Demande
                <input class="form-control" id="im1u" type="file" onchange="previewFileU()" >	 	 
                  <input type="text" style="display: none;" min="1" max="5" class="form-control" id="imageZoneu" ng-model="image"><br><br>			 		
              </div>
              <div class="form-group">Date Debut
                <input type="date" class="form-control" aria-describedby="xxx" id="dated" placeholder="date ..." ng-model="dated" >
              </div>
              <div class="form-group">Date Fin
                <input type="date" class="form-control"  aria-describedby="xxx" id="datef" placeholder="date ..." ng-model="datef">
              </div>
              <div class="form-group">Dur√©e
                <input type="text" class="form-control" aria-describedby="xxx" id="duree" placeholder="duree ..." ng-model="duree">
              </div>
              <div class="form-group">Type de stage
                <select class="browser-default custom-select" id="selectu2">
                  <option selected ng-repeat="s in types" value="{{s.id}}" >{{s.nom}}</option>
                </select>
              </div>
              Departement
              <select class="browser-default custom-select" id="selectu">
                <option selected ng-repeat="s in departements" value="{{s.id}}" >{{s.nom}}</option>
              </select><br><br>       
            </div>
          </div>
        </div>
        <!-- Modal footer -->
        <div class="modal-footer">
       	  <a href="#" class="btn btn-success btn-icon-split">
            <span class="icon text-white-50">
              <i class="fas fa-check"></i>
            </span>
            <span class="text" ng-click="savedemande()">Enregistrer</span>
		      </a>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

<!-- The Modal -->
  
    <div class="modal" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">My Intership</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>   
        <!-- Modal body -->
        <div class="modal-body">
            <div class="card-body">
               <div class="table-responsive">
                    <table class="table table-borderless table-striped table-earning">
                      <thead>
                        <tr>
                          <th>Id</th>
                          <th>Date Debut </th>
                          <th>Date Fin</th>   
                          <th>Demande</th>
                          <th>Rapport</th> 
                          <th>Etat</th>  
                      </thead>
                      <tbody >
                        <tr ng-repeat="a in stages">
                          <td>{{a.id}}</td> 							
                          <td>{{a.datedebut}}</td>
                          <td >{{a.datefin}}</td> 
                          <td><a href="{{a.demande}}">Demande</a></td>
                          <td ng-if="a.rapport==null && a.etat!='rejete'"><span class="badge badge-success" ng-click="updatestage2(a)"  data-toggle="modal" data-target="#myModal3">importer</span></td>
                          <td ng-if="a.rapport==null && a.etat=='rejete'" class="text-center"> - </td>                  
                          <td ng-if="a.rapport!=null"><a href="{{a.rapport}}">Afficher</a></td>
                          <td ng-if="a.etat=='valide'"><span class="badge badge-success">valide</span></td>
                          <td ng-if="a.etat=='en attente'"><span class="badge badge-ligth">en attente</span></td>
                          <td ng-if="a.etat=='rejete'"><span class="badge badge-danger">rejete</span></td>
                        </tr>	   
                      </tbody>    
					           </table>
                </div>     
              </div>             
        </div>
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
<!-- The Modal -->
  <div class="modal" id="myModal3">  
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header"> 
          <h4 class="modal-title">Rapport</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>       
        <!-- Modal body -->
        <div class="modal-body">
            <div class="card-body">                   
              <div class="card-body">
                <div class="form-group">Importer         
                  <input class="form-control" id="im1u2" type="file" onchange="previewFileU2()" >	 	 
                  <input type="text" style="display: none;" min="1" max="5" class="form-control" id="imageZoneu2" ng-model="image"><br><br>			 		
                </div>
                <div class="form-group"> 
                  <input type="text" class="form-control" aria-describedby="xxx" id="idindiceimporte" placeholder="ID ..." hidden>
                </div>         
              </div>
            </div>
          </div> 
          <!-- Modal footer -->
          <div class="modal-footer">
            <a href="#" class="btn btn-success btn-icon-split">
              <span class="icon text-white-50">
                <i class="fas fa-check"></i>
              </span>
              <span class="text" ng-click="importer()">Importer</span>
            </a>
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          </div> 
      </div>
    </div>
  </div>

  <!-- The Modal -->
  <div class="modal" id="myModal4">  
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Profil</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <!-- Modal body -->
        <div class="modal-body">
            <div class="card-body">
              <div class="card-body">
                <div class="form-group">Image
                  <div class="account-item clearfix js-item-menu text-center">
                    <div class="image">
                        <img  src="images/vide.jpg" id="ssu4"  alt=""  width="100" height="140" />
                    </div> 
			            </div>
					        <input class="form-control" id="im1u4" type="file" onchange="previewFileU4()" >	 	 
			            <input type="text" style="display: none;" min="1" max="5" class="form-control" id="imageZoneu4" ng-model="image"><br><br>			 		
                </div>
                <div class="form-group">ID
                  <input type="text" class="form-control" aria-describedby="xxx" id="idindice4" placeholder="ID ..." disabled >
                </div>
                <div class="form-group">Nom
                  <input type="text" class="form-control" aria-describedby="xxx" id="nomAu4" placeholder="Nom ..." ng-model="Nom" >
                </div>
                <div class="form-group">Prenom
                  <input type="text" class="form-control"  aria-describedby="xxx" id="prenomAu4" placeholder="Prenom ..." ng-model="Prenom">
                </div>
                <div class="form-group">Cin
                  <input type="text" class="form-control" aria-describedby="xxx" id="cinAu4" placeholder="Cin ..." ng-model="Cin">
                </div>
                <div class="form-group">Adresse
                  <input type="text" class="form-control" aria-describedby="xxx" id="adresseAu4" placeholder="Adresse ..." ng-model="Adresse">
                </div>
                <div class="form-group">Tele
                  <input type="text" class="form-control" aria-describedby="xxx" id="teleAu4" placeholder="Tele ..." ng-model="Tele">
                </div>
                <div class="form-group">Email
                  <input type="text" class="form-control"  aria-describedby="xxx"  id="emailAu4" placeholder="Email ..." ng-model="Email">
                </div>
                <div class="form-group">Login
                  <input type="text" class="form-control" aria-describedby="xxx" id="loginAu4" placeholder="Login ..." ng-model="Login">
                </div>
                <div class="form-group">Password
                  <input type="password" class="form-control" id="motpasseAu4" aria-describedby="xxx" placeholder="Mot de passe ..." ng-model="Motpasse">
                </div>
                <div class="form-group">cv
                   <input class="form-control" id="cv" type="file" onchange="previewFileU5()">	
                    <input type="text" style="display: none;" min="1" max="5" class="form-control" id="cvZoneu4" ng-model="cv">
                </div> 
                <br><br> 	
              </div>
            </div>
          </div>
          <!-- Modal footer -->
          <div class="modal-footer">
            <a href="#" class="btn btn-success btn-icon-split">
              <span class="icon text-white-50">
                <i class="fas fa-check"></i>
              </span>
              <span class="text" ng-click="saveStagiaireupdate()">Enregistrer</span>
		        </a>
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          </div>
      </div>
    </div>
  </div>
  
  <script src="js2/jquery-3.3.1.min.js"></script>
  <script src="js2/jquery-migrate-3.0.1.min.js"></script>
  <script src="js2/jquery-ui.js"></script>
  <script src="js2/popper.min.js"></script>
  <script src="js2/bootstrap.min.js"></script>
  <script src="js2/owl.carousel.min.js"></script>
  <script src="js2/jquery.stellar.min.js"></script>
  <script src="js2/jquery.countdown.min.js"></script>
  <script src="js2/jquery.magnific-popup.min.js"></script>
  <script src="js2/bootstrap-datepicker.min.js"></script>
  <script src="js2/aos.js"></script>
  <script src="js2/rangeslider.min.js"></script>

  <script src="js2/main.js"></script>
     <script src="js/main.js"></script>
	<script type="text/javascript" src="angular/angular.min.js"></script>
	<script type="text/javascript" src="js/app_Espace_Stagiaire2.js"></script>
  </body>
</html>
